<mvc:View controllerName="taqaemployeetravelrequestapp.controller.View1"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:f="sap.f" xmlns:layout="sap.ui.layout" displayBlock="true"
    xmlns="sap.m">
     <f:DynamicPage >
        <f:title>
            <f:DynamicPageTitle >
                <f:heading>
                    <Title text="{i18n>EMP}" textAlign="Center"></Title>
                </f:heading>
            </f:DynamicPageTitle>
        </f:title>
        <!-- <f:header>
            <f:DynamicPageHeader  >
                <layout:HorizontalLayout >
                    <FlexBox >
                        <VBox >
                            <layout:VerticalLayout class="sapUiLargeMarginEnd">
                                <Label text="{i18n>EmployeeNo}" showColon="true"></Label>
                                <Title text="{PerPerson>/personIdExternal}"></Title>
                            </layout:VerticalLayout>
                            <layout:VerticalLayout class="sapUiLargeMarginEnd">
                                <Label text="{i18n>FirstName}" showColon="true"></Label>
                                <Title text="{PerPersonal>/firstName}"></Title>
                            </layout:VerticalLayout>
                            <layout:VerticalLayout class="sapUiLargeMarginEnd">
                                <Label text="{i18n>MiddleName}"></Label>
                                <Title text="{PerPersonal>/middleName}"></Title>
                            </layout:VerticalLayout>
                        </VBox>
                        <VBox >

                            <layout:VerticalLayout class="sapUiLargeMarginEnd">
                                <Label text="{i18n>LastName}"></Label>
                                <Title text="{PerPersonal>/lastName}"></Title>
                            </layout:VerticalLayout>
                            <layout:VerticalLayout class="sapUiLargeMarginEnd">
                                <Label text="{i18n>EmployeeFullName}"></Label>
                                <Title text="{PerPersonal>/displayName}"></Title>
                            </layout:VerticalLayout>
                            <layout:VerticalLayout class="sapUiLargeMarginEnd">
                                <Label text="{i18n>Gender}"></Label>
                                <Title text="{PerPersonal>/gender}"></Title>
                            </layout:VerticalLayout>
                        </VBox>
                        <VBox >
                            <layout:VerticalLayout class="sapUiLargeMarginEnd">
                                <Label text="{i18n>JobDetails}"></Label>
                                <Title text=""></Title>
                            </layout:VerticalLayout>
                            <layout:VerticalLayout class="sapUiLargeMarginEnd">
                                <Label text="{i18n>LeaveSchedule}"></Label>
                                <Title text="{EmpJob>/workscheduleCode}"></Title>
                            </layout:VerticalLayout>
                            <layout:VerticalLayout class="sapUiLargeMarginEnd">
                                <Label text="{i18n>CompanyCode}"></Label>
                                <Title text="{EmpJob>/company}"></Title>
                            </layout:VerticalLayout>
                        </VBox>
                        <VBox >
                            <layout:VerticalLayout class="sapUiLargeMarginEnd">
                                <Label text="{i18n>HomeCountry}"></Label>
                                <Title text="{PerPerson>/countryOfBirth}"></Title>
                            </layout:VerticalLayout>
                            <layout:VerticalLayout class="sapUiLargeMarginEnd">
                                <Label text="{i18n>Department}"></Label>
                                <Title text="{EmpJob>/department}"></Title>
                            </layout:VerticalLayout>
                            <layout:VerticalLayout class="sapUiLargeMarginEnd">
                                <Label text="{i18n>Division}"></Label>
                                <Title text="{EmpJob>/division}"></Title>
                            </layout:VerticalLayout>
                        </VBox>
                        <VBox >

                            <layout:VerticalLayout class="sapUiLargeMarginEnd">
                                <Label text="{i18n>Function}"></Label>
                                <Title text="{EmpJob>/businessUnit}"></Title>
                            </layout:VerticalLayout>
                            <layout:VerticalLayout class="sapUiLargeMarginEnd">
                                <Label text="{i18n>Location}"></Label>
                                <Title text="{EmpJob>/location}"></Title>
                            </layout:VerticalLayout>
                            <layout:VerticalLayout class="sapUiLargeMarginEnd">
                                <Label text="{i18n>DateofBirth}"></Label>
                                <Title text="{
                                    path :'PerPerson>/dateOfBirth',
                                formatter: '.formatter.dateChange'}"></Title>

                            </layout:VerticalLayout>
                        </VBox>
                        <VBox >
                             <layout:VerticalLayout class="sapUiLargeMarginEnd">
                                <Label text="{i18n>ContactNo}"></Label>
                                <Title text="{PerPerson>/phoneNumber}"></Title> 
                             </layout:VerticalLayout> 
                            <layout:VerticalLayout class="sapUiLargeMarginEnd">
                                <Label text="{i18n>ReportingManager}"></Label>
                                <Title text="{EmpJob>/managerId}"></Title>
                            </layout:VerticalLayout>
                            <layout:VerticalLayout class="sapUiLargeMarginEnd">
                                <Label text="{i18n>Grade}"></Label>
                                <Title text=""></Title>
                            </layout:VerticalLayout>
                        </VBox>
                    </FlexBox>
                </layout:HorizontalLayout>
            </f:DynamicPageHeader>
        </f:header> -->
        <f:content>
            <Table growing="true" sticky="HeaderToolbar,ColumnHeaders" alternateRowColors="true"  items="{path:'TravelDetails>/results',sorter:{path:'TravelId',descending:true}}">
                <headerToolbar>
                    <Toolbar >
                        <ToolbarSpacer ></ToolbarSpacer>
                        <Button text="{i18n>create}" type="Emphasized" icon="sap-icon://create-leave-request" press="onCreateRequestButtonPress"></Button>
                    </Toolbar>
                </headerToolbar>
                <columns>
                    <Column visible="false">
                        <Label text="{i18n>ID}"></Label>
                    </Column>
                    <Column >
                        <Label text="{i18n>TripNumber}"></Label>
                    </Column>
                    <Column >
                        <Label text="{i18n>TravelType}"></Label>
                    </Column>
                    <Column >
                        <Label text="{i18n>EmployeeNo}"></Label>
                    </Column>
                    <Column >
                        <Label text="{i18n>Department}"></Label>
                    </Column>
                    <Column >
                        <Label text="{i18n>Division}"></Label>
                    </Column>
                    <Column >
                        <Label text="{i18n>Location}"></Label>
                    </Column>
                     <Column >
                        <Label text="{i18n>TravelCountry}"></Label>
                    </Column>
                    <Column  >
                        <Label text="{i18n>Status}"></Label>
                    </Column>
                    <Column ></Column>
                </columns>
                <items>
                    <ColumnListItem  >
                        <Text text="{TravelDetails>ID}"></Text>
                        <Text text="{TravelDetails>TravelId}"></Text>
                        <Text text="{TravelDetails>TravelType}"></Text>
                        <Text text="{TravelDetails>EmployeeID}"></Text>
                        <Text text="{TravelDetails>Deparment}"></Text>
                        <Text text="{TravelDetails>Division}"></Text>
                        <Text text="{TravelDetails>Location}"></Text>
                         <Text text="{TravelDetails>TravelCountry}"></Text>
                        <ObjectStatus text="{TravelDetails>Status}"  state="{=${TravelDetails>Status}==='Submitted'? 'Success':'Warning'}"></ObjectStatus>
                        <!-- <Text text="{TravelDetails>Status}"></Text> -->
                        <Button icon="sap-icon://detail-view" press="onColumnListItemPress"></Button>
                    </ColumnListItem>
                </items>

            </Table>
        </f:content>
    </f:DynamicPage>
</mvc:View>
